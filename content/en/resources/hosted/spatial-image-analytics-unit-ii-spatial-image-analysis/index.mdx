---
title: 'Unit II: Spatial Image Analysis'
locale: en
publication-date: '2017-03-08'
version: '1.0'
authors:
  - chrysanthi-angeliki
contributors:
  - chrysanthi-angeliki
tags:
  - history
  - mapping
  - workshop
  - spatial-analysis
  - images
  - geotagging
sources:
  - dariah
license: cc-by-4.0
table-of-contents: true
summary:
  content: No summary content available.
content-type: training-module

---

## 2. Background and Method

### 2.1.1 What is Spatial Image Analytics?

![](/assets/content/assets/en/resources/hosted/spatial-image-analytics-unit-ii-spatial-image-analysis/af7b9dd9ef9e74c5c061ce9d0da17888e1468b90-36208.png)Image analysis refers to any process of obtaining meaningful information from images and image analytics refer to processes involving the application of digital techniques for the same purpose. Humans are very well equipped to extract meaning from individual images and perform sophisticated analysis of small datasets but not adept at processing a large number of records. Computation, on the other hand, can handle large amounts of data to identify new correlations and interpretations for various disciplines and applications.

In this context, different techniques are continuously applied and developed to meet the requirements of cultural heritage as well as other arts and humanities disciplines. A substantial amount of work is focusing on data mining, remote sensing, and other image geospatial applications, on image processing for recording heritage and visual pattern or stylistic recognition, and influence in art and heritage collections. Other studies are more concerned with improving the spatial, temporal and visual classification of image datasets to enable searchability and further analyses.

![spatial image analysis\_Gournia](/assets/content/assets/en/resources/hosted/spatial-image-analytics-unit-ii-spatial-image-analysis/db735e7d4fa40be41daad5fcd3c199d32e1b2b11-36207.png) This workshop is concerned with the spatial properties of image collections and the methods that efficiently addressing questions about the 'where' of such humanities data. Such questions may wish to explore, for example, places of historical graphic material production and patterns of distribution, spatial patterns of cultural change as well as public perception and participation in understanding, safeguarding and disseminating cultural heritage artefacts and sites. This type of analysis uses directly geolocation metadata embedded in the image files rather than features within digital pictures (image processing).

Then the term 'analytics' indicates that this type of image data inquiries is primarily quantitative. In essence, regardless of the particular software or programming approach employed each time, the analysis involves some spatial statistics applied to large scale image datasets. Today arts and humanities researchers and practitioners can use different software to perform this analysis also depending on the type of investigation and the visual output affordances. For instance, ImagePlot, a free software developed by the Software Studies Initiative for Humanities research, affords to plot, visualise and discover different patterns in image collections and other media by exploring either image properties or file metadata.

In the following section, you are going to learn how to perform a particular type of analysis which explores spatial patterns of incident data. The 'incidents,' in this case, will be the locations of images recorded by visitors in the second scenario of Unit I (see section Batch Image Geotagging).

### 2.1.2 Introduction to Hotspot Analysis

![](/assets/content/assets/en/resources/hosted/spatial-image-analytics-unit-ii-spatial-image-analysis/af7b9dd9ef9e74c5c061ce9d0da17888e1468b90-36208.png)A significant step towards making better sense of the collected image data in our working scenario is the HotSpot (HS) Analysis. This analysis is carried out in ArcMap, the desktop application of ESRI suite, with the aggregated and integrated points of image locations captured by the visitors. For this analysis, ModelBuilder, a toolbox in ArcMap that acts as a visual programming language for building geoprocessing workflows is used to create a conceptual model of the analysis. For instance, a typical workflow may include some geoprocessing tools such as *Copy Features*, *Integrate*, *Collect Events* and *Hot Spot Analysis*.

The methodological procedure of conducting HS analysis is well documented in ArcGIS but it is useful to explain some basic concepts of the method in this section. One of the crucial decisions for implementing such an analysis is to select a conceptualisation of spatial relationships (*inverse distance*, *travel time*, *fixed distance*, *K nearest neighbors*, and *contiguity*) based on the questions you are asking and the data you are using. Let's explain this with the use of an example. An Art History scholar is interested in identifying the most significant locations (hotspots) of foreign travellers' graphic depictions of monuments and landscapes during the 19th century in Greece. Her substantial and well-documented dataset consists of geotagged digital images converted into geolocation point features. Once she obtains the hotspots, she will be able to focus her research on specific areas and eventually use other methods to understand and interpret any spatial patterns she observed through the analysis. She is not aware of an average distance between the depicted locations (point features) and she is unsure about whether monument proximity actually influenced artists to work with specific clusters of monuments. So in terms of choosing the right conceptualisation of spatial relationships for conducting the analysis, using the *fixed distance* approach with a distance band that is large enough to ensure all features will have at least one neighbor seems appropriate.

A simple hotspot analysis (Hotspot Analysis with Rendering) can be a very useful spatial statistical approach for cases where you have good knowledge of the geographic extent that spatial phenomena take place and you require a simple method to spatially classify image datasets. The heritage scenario discussed in *Unit I* offers a good example. In this research study, the dataset consists of 1656 geotagged images recorded by visitors at the archaeological site of Gournia, a Minoan urban settlement. For this type of study, you will usually have a good knowledge of the case and site-specific parameters (e.g. the geolocation accuracy, the dense urban character and relatively small size of the site and the visitor-space interaction approach), and better control over the scale of the investigation. The assumption is that certain locations attract visitors' attention more than others not only because of a single attraction (e.g. an impressive feature of the site) but because of a combination of features and site attributes in around a small area. Then each image (feature) is processed within the context of neighboring features based on a designated distance. This way, images that were captured outside the distance of the target feature each time do not influence calculations.

![Gournia\_HS analysis](/assets/content/assets/en/resources/hosted/spatial-image-analytics-unit-ii-spatial-image-analysis/78dcdc392cebac94fbc0992cc80ede5acfaed240-36209.jpg)

The final output is a cluster analysis visualisation indicating the hotspots or points of interest (statistically significant locations). The clusters here represent classified areas depending on how many images were recorded by visitors the most at certain locations and provide a useful exploration of the visitor-space interaction. This particular analysis generated 58 unique locations, the hotspots, which represent weighted clusters of image data. The resulted clusters were classified and visualised with a colour ramp. Based on the latter, warm colours indicate higher values of weighted clusters and cold indicate lower values. As you can see in the image, the red dots indicate areas where visitors captured the most images while the blue dots indicate areas with the least image recordings. The exact value of each generated HS is found in the ICOUNT field, which is the resultant count attribute indicating the number of events/image points contained in each HS. It is also worth mentioning that in order to complete the interpretation of the data, other qualitative image analyses complemented the HS analysis such as the thematic classification of images for each hotspot.

To continue to the next section, you will need to have completed the Spatial analysis setup guidelines and launch ArcMap.

### 2.1.3 Hotspot analysis for image data: tutorial

**Adding a Map** \*Figure 1. Adding map from ArcGIS Online.\*Launch ArcMap. Before preparing for the actual analysis we first need to add a background map (basemap) in our ArcMap workspace. By default, when you launch ArcMap, you will be prompted to choose between opening a new map or creating one from a template. Choose to create one and select *blank map*. Now you will need to select an open source map from ArcGIS Online. Go to **File** and click **ArcGIS online** and proceed to sign in. For this tutorial, you need to add a basemap from Greece. On the search box type for maps and data by using the term ‘Greece’. You can choose any map you prefer, but it is recommended that you choose a detailed topographic map (e.g. such as the one produced by the Community Maps Programme, see Fig. 1).![basemap spatial analysis tutorial](/assets/content/assets/en/resources/hosted/spatial-image-analytics-unit-ii-spatial-image-analysis/e7411e975e10b7b2ac4d859afcb80e82dff27d29-36212.PNG)

*Figure 2. Image data points and Identify window in ArcMap.*![identifier](/assets/content/assets/en/resources/hosted/spatial-image-analytics-unit-ii-spatial-image-analysis/9ba055fc0f23e81fd6618b47bf4bc3fbff180da7-36214.PNG)**Data Management**\
On the right of the ArcMap interface, open the **Catalog** menu. Here you will find all sets of tools (toolboxes) required for setting up and running the analysis. First, you will have to convert your geotagged image data to points. Under **Data Management Tools.tbx**, go to **Photos>Geotagged Photos To Points**. In the **Input Folder** field, navigate to the directory where you have saved your geotagged images from Unit I and select the respective folder. To do this, you will need first to establish a folder connection so that ArcMap knows each time where you keep your data. Click on the folder icon, select **Connect To Folder,** navigate to the folder and **Add** it to your connected folders. Both input and output fields are filled in automatically. You can choose to specify the location where the analysis will save the invalid photos table and **Add Photos As Attachments**. Both these options are preferred for providing better control over the analysis results at the interpretation stage. Select ok and notice the new layer with the image data created on the left, under **Table of Contents** and the points of data overlayed on the map area. You can explore and edit the properties of this new layer by right clicking the layer and selecting **Properties**. On the **Source** tab, notice the Geographic Coordinate System and Datum information. The performed Data Management approach uses by default the same coordinate system with the input data (GCS\_WGS\_1984, D\_WGS\_1984). Also, you can change the **Symbology** properties to enhance the visual output of the data. Return to the toolbar section, select **Identify** and hover the cursor over the image points. Click one of the points and in the opened window notice the available metadata (e.g. *Location, Name, Date* and *Path*). From **Path**, you can access and view the raster image file which has been attached to the respective image point.

**HotSpot Analysis with Rendering** Once the data are ready for analysis you will proceed with building the conceptual model for the analysis. On the toolbar, go to **Geoprocessing** and select **ModelBuilder**. Begin creating the model by dragging the image layer from the ArcMap Table of Contents into the model. Next add the **Copy Features** geoprocessing tool to your model (drag from ArcToolbox). The Copy Features tool is located in **Data Management Tools>Features toolset**. **Connect** the Calls object to the Copy Features tool which will order a copy of the feature class because we are going to use tools that will change the geometry of the original input feature class. You can rename the Copy Features output to *Collected\_Photos*. To do this, double‐click on the Copy Features tool and change the Output Feature Class.

*Figure 3. The conceptual model at the Integrate stage.*![modelbuilder1](/assets/content/assets/en/resources/hosted/spatial-image-analytics-unit-ii-spatial-image-analysis/014281a2373c1dedfa35cccc5e2c3c169e06e936-36215.PNG)Add the **Integrate** tool to the model (drag from ArcToolbox). The Integrate tool is located in **Data Management Tools>Feature Class toolset**. This function will aggregate image points that are within a given distance range or XY or on top of each other and will create an attribute value associated with each feature which will be used as the Hotspot analysis Input field. The Integrate tool allows moving all image points that occur within a specified distance into a single location where they can be counted using the **Collect Events** tool. Use the Connect Tool to connect Collected\_Photos to Integrate. Then double click the Integrate tool and enter 6m for the XY tolerance parameters. This distance means that any image taken within a radius of 6 meters of another will be considered by Integrate process. Rename the Integrate Feature Output to Integrate Output (right click>rename). So far, your model should look like the model in Figure 3.

Add the **Collect Events** tool located in **Spatial Statistics Tools>Utilities toolset**. The Collect Events tool will create a new feature class with a count field indicating the number of coincident image points at each location. The Integrate and Collect Events tools use the same input file, but since the first step of the point aggregation process is the Integrate tool, the Collect Events tool must not run until after the Integrate tool is finished making points within a radius of 6m. To set this parameter, right‐click on the Collect Events tool and select **Properties**. Under the **Preconditions tab,** set **Integrate Output** as a precondition. Rename the Collect Events output to **WeightedPhotos** by double‐clicking on the Collect Events tool and changing the Output Weighted Point Feature Class. Double-click on the Results and notice that a count field is created which will indicate the number of images aggregated in one location based on the analysis parameters.\
Add the **Hot Spot Analysis (Getis Ord GI\*)** tool to your model by dragging from **Spatial Statistics Tools>Mapping Clusters**. Double‐click the tool and specify all the following parameters:

*Figure 4: The final conceptual model of Hotspot Analysis.*- Input Feature Class: Weighted\_Photos

* Input Field: ICOUNT
* Output Feature class: ConceptualisedHotSpotResult
* Conceptualization of Spatial Relationships: Zone of Indifference
* Distance Method: Manhattan
* Distance Band/Threshold Distance: 6

![modelbuilder schema final](/assets/content/assets/en/resources/hosted/spatial-image-analytics-unit-ii-spatial-image-analysis/cdb9de2718f51356f046ea7eadff70a22098b951-36216.PNG)

Right-click on HotSpot Results and select **Add To Display**. This will ensure that when the model is run the results layer will be added to the map display. The final model should look like Figure 4. Run the model and go to the map area to see the displayed results and play around with the visualisation options. Right-click the generated hotspot layer and go to **Properties**. Choose **Symbology>Graduated symbols** and set parameters as shown in Figure 5. You can also choose the **Graduated Colours** option. Go back to map and explore the results of the Hotspot analysis.

*Figure 5. Symbology settings.* *Figure 6. ArcMap interface with displayed Hotspot results.*![Symbology](/assets/content/assets/en/resources/hosted/spatial-image-analytics-unit-ii-spatial-image-analysis/82091cbdf892d495693ca6c87456e385b274cb42-36217.PNG)![HS\_final](/assets/content/assets/en/resources/hosted/spatial-image-analytics-unit-ii-spatial-image-analysis/ef0dbbe31833c8bcba3d5215c2f327934d05a10f-36218.PNG)

## Spatial Image Analysis Assignment

**Optional Assignment** Choose a set of geotagged images based on your background and previous experience, or something related to a topic you are studying in another module, or something that simply interests you. If you have completed Unit I, use the dataset that derived from Image Geotagging Assignment. Perform a hotspot analysis on your dataset.

Then write a short essay of approximately 1000 words addressing the following questions:\
a) Describe your dataset. How does the spatial analysis improve your understanding of the data?\
b) What kind of new questions will this analysis be able to answer? Why is this important in your study area?

Use images from your collection and an instance of the produced map overlayed with the analysis results to present your essay.# Spatial analysis setup
**Software Download**

In order to be able to follow through and complete this unit's practical you are required to create an ArcGIS account and download ArcMap as specified below:

* Open an ArcGIS account and subscribe for a 60-day trial of the software which includes access to the following: ArcGIS Online, ArcGIS for Desktop, ArcMap, ArcGIS Pro, additional ready-to-use apps.

Available at: [https://www.arcgis.com/features/free-trial.html](https://www.arcgis.com/features/free-trial.html)

* Download, Install and Authorise ArcMap with extensions. Once you have created the account, you will receive an e-mail with detailed steps and the authorisation code for ArcMap. This is the main tool you will be using throughout this unit.

ArcGIS for Desktop has been developed for Windows Operating systems. To run ArcGIS 10.x on an Apple Macintosh computer, the Mac must be set up to run Windows by following one of two installation options:

Option 1: Create a dual-boot setup on your Mac. This allows you to boot into either Mac OS or Windows OS. The usual way to do this is to use the free software BootCamp.

Using BootCamp: [http://www.apple.com/support/bootcamp/](http://www.apple.com/support/bootcamp/)

Option 2: Create a virtual machine on your Mac. This allows you to run an installation of Windows OS in parallel with your existing Mac OS, and to seamlessly switch between the two. Typical choices for the virtualization option are the licensed software Parallels or VMware.

ESRI has more information on these options here. When configuring Windows with any of these options, pay attention to the minimum system requirements for installing ArcGIS.

**Data resources download**

Make sure you have concluded Unit I and that you have geotagged all the files of *tutorial resources,* folders *V1-V8.* Rename the image files in a way that each set of images reflect the ID of their creator \[e.g. files in V1 were created by visitor #1, so they could be renamed as V(1), V(2),....V(n)]. Then extract all renamed geotagged images from their individual folders and create a single folder to use for the spatial image analysis tutorial.
