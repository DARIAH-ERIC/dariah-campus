---
title: Improving quality assurance and development efficiency with regression testing
locale: en
publication-date: 2025-11-13
version: 1.0.0
authors:
  - krautgartner-barbara
editors: []
contributors: []
tags:
  - software-development
sources:
  - acdh
license: cc-by-4.0
table-of-contents: true
summary:
  content: >-
    This resources demonstrates how regression testing can improve quality
    assurance and boost development efficiency illustrated through the use case
    of a digital edition.
content-type: training-module
translations: []
dariah-national-consortia: []
---
<Callout kind="note">
  Target audience: Developers, Project Managers
</Callout>

## Introduction

Developing applications in the field of humanities sometimes means rendering a lot of textual data with regards to scientific rules (e.g. citation patterns).
Digital editions can be particularly challenging.

The following sections try to give an insight into the benefits of regression testing using the example of migrating a digital edition - <Link link={{"discriminant":"external","value":"https://kraus1933.ace.oeaw.ac.at"}}>Karl Kraus 1933: Dritte Walpurgisnacht</Link> - to a slightly different tech stack. In this scenario e2e testing is used to make sure that the new application displays the data after the migration exactly as it did before.

The tool of choice in this example is the [Playwright](https://playwright.dev/) framework, which allows us running multiple browser interactions and comparing the result to our test data. By using parameterized tests we can speed up the development process and achieve high test coverage. The usefulness of setting up these tests becomes evident looking at the quantity and quality of the data in our use case.

The tech stack is pretty straight forward: XML gets transformed to HTML by using XSLT.
XML structures can be rather simple and flat. But in the case of digital editions the complexity increases based on the levels of nesting and the amount of enriched data combined with a sophisticated rule set regarding the desired display.

In the following two types of tests will by presented: Comparison by Screenshot and Text Matching.

## Learning Outcomes

After completing this learning resource, learners should be able to:

* Name types of regression tests that are beneficial and appropriate when developing digital editions.
* List features of a tool like Playwright that are particularly useful for testing text-heavy applications.&#x20;
* Approach testing in their own development stack.

---

## Screenshot Comparison Tests

In Playwright [Visual comparisons](https://playwright.dev/docs/test-snapshots) provide the ability to take browser screenshots and compare them. Usually the developer would work on a view of an app and run an initial screenshot comparison test. This test fails as expected since no screenshots exist yet, but it generates the necessary screenshots for future test runs. Running tests generates a test report. This report can come in different formats based on the chosen [reporter](https://playwright.dev/docs/test-reporters) in the configuration. By using the [HTML Reporter](https://playwright.dev/docs/test-reporters#html-reporter) the results can be easily browsed, which will be shown in the following section.

### Testing the editions main view containing the running text

This article will not go into the specifics of the complex TEI-XML structure of this edition, but here is a list of some criteria the rendering has to meet:

* certain elements should not be rendered at all
* certain elements should be rendered at a different position
* for certain elements different font, text formatting and spacing properties have to be applied

Additionally, the migration process includes simplifying certain parts of the code base which has grown due to ongoing changes in the source data and additional feature requests. Here, simplifying means using more concise XSLT and CSS rules to reduce complexity and improve maintainability.

The edition view consists of 65 HTML pages. [Page 18](https://karl-kraus.github.io/wpn-static/absatz_18.html) of the edition gives a good example of the complexity that has to be dealt with.

Since changing the XSLT or CSS rules may effect multiple pages of the edition, efficient testing is necessary. Therefore the same test is executed for all pages by parameterizing the URL path as well as the screenshot path. In this migration scenario the initial set of screenshots are taken from the legacy app, by using its URL in the first test run.   \
\
The screenshots in this setup have to meet two important criteria:

* Only capture the running text of the edition. The test should not care about or fail because of differences in components like menus or side panels. This would be different test cases.
* Capture the full vertical scrollable content, not only the part currently visible in the viewport.

As mentioned Playwright provides an interactive interface for browsing test results via the HTML Reporter. After running the tests two result views are available.
The first view displays all completed tests (failed and passed) in list form (65 tests for 65 pages):
